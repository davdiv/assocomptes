<script>
var klass = require("hsp/klass");
var login = require("../login");
</script>

<template id="template">
    <div class="container-fluid">
        <h4>Bienvenue dans Openarms!</h4>
        <p>
            {if login.hasRole("writePeople")}
                {" "}<a class="btn btn-default" href="/people/new"><span class="glyphicon glyphicon-user"></span> Nouvelle personne</a>
            {/if}
            {if login.hasRole("writeAccountSheets")}
                {" "}<a class="btn btn-default" href="/accountSheets/new"><span class="glyphicon glyphicon-euro"></span> Nouvelle feuille de comptes</a>
            {/if}
            {if login.hasRole("readAccountSheets")}
                {" "}<a class="btn btn-default" href="/accountSheets/sum"><span class="glyphicon glyphicon-euro"></span> Rechercher dans les comptes</a>
            {/if}
            {if login.hasRole("writeDeposits")}
                {" "}<a class="btn btn-default" href="/deposits/new"><span class="glyphicon glyphicon-euro"></span> Nouveau dépôt</a>
            {/if}
            {if login.hasRole("readDeposits")}
                {" "}<a class="btn btn-default" href="/deposits/sum"><span class="glyphicon glyphicon-euro"></span> Rechercher dans les dépôts</a>
            {/if}
        </p>
    </div>
</template>

<template id="iconTemplate" args="page">
    <span class="glyphicon glyphicon-home"></span> {page.title}
</template>

<script>
module.exports = klass({
    template : template,
    iconTemplate : iconTemplate
});
</script>
